var N=Object.defineProperty;var s=(e,o)=>N(e,"name",{value:o,configurable:!0});import{r as a}from"./index.90586bf6.js";import{a as i,e as L,d as u,M as I,$ as R,b,y as w,s as E,c as P}from"./firebaseConfig.ea7f1421.js";import{u as p,a as O}from"./useUser.4630e06f.js";import{j as t,a as m}from"./jsx-runtime.6ef4d586.js";import{B as U}from"./Button.ffd05c47.js";import{H as j}from"./Heading.148b2ebd.js";import{L as A}from"./Loading.8ccad6c2.js";import{T}from"./Text.4afaaba6.js";import{u as B}from"./index.59707fa5.js";const x=a.exports.createContext({});function f({children:e}){const[o]=p(i),[l,r]=a.exports.useState(!1),[S,d]=a.exports.useState([]);async function h(n){const v=L(u,"schools"),C=I(v,R("userId","==",`${n}`)),y=await b(C);d([]),y.forEach(c=>{d(_=>[..._,{schoolName:c.data().schoolName,userId:c.data().userId,address:c.data().address,schoolId:c.data().schoolId}])})}s(h,"handleWithSchoolDataFromDb");async function g(n){r(!0),await w(E(u,"schools",n)),console.log("Excluindo escola",n),alert("Escola excluida"),h(o==null?void 0:o.uid),location.replace("/"),r(!1)}return s(g,"handleDeleteSchoolFromDB"),a.exports.useEffect(()=>{o&&(d([]),h(o==null?void 0:o.uid))},[o]),t(x.Provider,{value:{user:o,isLoading:l,schoolData:S,handleWithSchoolDataFromDb:h,handleDeleteSchoolFromDB:g},children:e})}s(f,"SchoolsContextProvider");try{f.displayName="SchoolsContextProvider",f.__docgenInfo={description:"",displayName:"SchoolsContextProvider",props:{}},typeof STORYBOOK_REACT_CLASSES<"u"&&(STORYBOOK_REACT_CLASSES["src/contexts/SchoolsContext.tsx#SchoolsContextProvider"]={docgenInfo:f.__docgenInfo,name:"SchoolsContextProvider",path:"src/contexts/SchoolsContext.tsx#SchoolsContextProvider"})}catch{}function W(){return a.exports.useContext(x)}s(W,"useSchool");function D(){var r;p(i);const{userData:e}=O(),o=B(),l=s(()=>{P(i),o("/")},"logout");return(e==null?void 0:e.photoURL)===((r=i.currentUser)==null?void 0:r.photoURL)?m("div",{className:"flex w-full items-center justify-between gap-4 p-4 border-b-2 border-green-500",children:[t(j,{children:t("div",{className:" hover:text-green-500 hover:translate-x-2 transition-all duration-100",children:t("a",{href:"/",children:"Caderneta Digital"})})}),m("div",{className:"flex w-[30%] gap-6 items-center justify-end",children:[m("div",{className:"flex items-center justify-center gap-2",children:[t(T,{size:"md",children:e==null?void 0:e.name}),(e==null?void 0:e.photoURL)!==null?t("div",{className:"shadow-md shadow-black rounded-full",children:t("img",{className:"rounded-full w-10 ring-2 ring-green-500",src:e==null?void 0:e.photoURL,alt:"User Image from Google Account",referrerPolicy:"no-referrer"})}):null]}),t("div",{className:"",children:t(U,{size:"sm",onClick:l,children:"Sair"})})]})]}):t("div",{children:t(A,{})})}s(D,"Header");export{D as H,W as u};
//# sourceMappingURL=Header.39eb3acf.js.map
